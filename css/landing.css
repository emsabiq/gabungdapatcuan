/* ==========================================================================
   ASET DIGITAL CUAN — Landing Page CSS (Stable, Scroll-Safe)
   File: assets/css/landing.css
   ========================================================================== */

/* ---------- CSS Variables ---------- */
:root{
  --brand:#16a34a;          /* green-600 */
  --brand-700:#15803d;      /* green-700 */
  --brand-soft:#ecfdf5;     /* green-50 */
  --ink:#0f172a;            /* slate-900 */
  --muted:#6b7280;          /* gray-500 */
  --line:#e5e7eb;           /* gray-200 */
  --shadow:0 10px 30px rgba(2,6,23,.06);
  --shadow-lg:0 20px 40px rgba(2,6,23,.08);
  --radius:16px;

  /* floater */
  --floater-h:64px;
}

/* ---------- Base ---------- */
html{
  scroll-behavior:smooth;

  /* FIX: kunci gutter scrollbar agar lebar layout stabil saat popup muncul */
  overflow-y: scroll;
  scrollbar-gutter: stable both-edges;
}
body{
  color:var(--ink);
  background:#fff;
  -webkit-font-smoothing:antialiased;

  /* FIX: cegah "scroll anchoring" lompat saat elemen fixed muncul */
  overflow-anchor: auto;
}
img{ max-width:100%; height:auto; display:block; }
.muted{ color:var(--muted)!important; }
.smallcaps{ font-variant:all-small-caps; letter-spacing:.06em; }
.shadow-soft{ box-shadow:var(--shadow); }

/* anchor target tidak ketutup navbar */
#beli, #fitur, #isi, #harga, #testi, #peek { scroll-margin-top: 80px; }

/* ---------- Navbar ---------- */
.navbar{ backdrop-filter:saturate(140%) blur(6px); }
.navbar .btn{ border-radius:999px; }

/* ---------- Brand badge ---------- */
.brand-badge{
  width:34px; height:34px; border-radius:9px;
  background:linear-gradient(135deg,#059669,#16a34a);
  display:inline-block; position:relative;
}
.brand-badge:after{
  content:"\f02d"; /* fa-images fallback for font-awesome */
  font: 900 16px "Font Awesome 6 Free";
  color:#fff; position:absolute; inset:0; display:grid; place-items:center;
}

/* ---------- Hero ---------- */
.hero{
  background:
    radial-gradient(1200px 480px at 20% -10%, #f0fdf4 0, rgba(240,253,244,0) 60%),
    radial-gradient(1000px 420px at 100% 0%, #ecfeff 0, rgba(236,254,255,0) 55%),
    #ffffff;
  padding-top:3rem;
  padding-bottom:3rem;
}

/* ---------- UI blocks ---------- */
.glass{
  background:rgba(255,255,255,.7);
  backdrop-filter:blur(10px);
  border:1px solid rgba(15,23,42,.06);
  border-radius:var(--radius);
  box-shadow:var(--shadow-lg);
}

.check-pill{
  background:#f8fafc; border:1px dashed #e2e8f0; border-radius:999px;
  padding:.35rem .75rem; font-size:.85rem;
}

.icon-circle{
  width:42px; height:42px; border-radius:999px;
  display:inline-flex; align-items:center; justify-content:center;
  background:var(--brand-soft); color:var(--brand);
}
.feature .icon-circle{ width:36px; height:36px; }

.section-title{ font-weight:800; letter-spacing:-.02em; }

/* ---------- Pricing tag ---------- */
.price-tag{
  display:inline-flex; align-items:center; gap:.5rem;
  background:#eefcf3; border:1px solid var(--line); border-radius:999px;
  padding:.4rem .8rem; font-weight:600; color:#1f2937; position:relative;
}
.price-tag:before{
  /* subtle shine */
  content:""; position:absolute; inset:0; border-radius:inherit;
  background:linear-gradient(120deg, transparent 0%, rgba(255,255,255,.8) 15%, transparent 30%);
  transform:translateX(-120%); animation:shine 3.5s ease-in-out infinite;
}
@keyframes shine{ 0%{transform:translateX(-120%)} 60%{transform:translateX(120%)} 100%{transform:translateX(120%)} }

/* ---------- Countdown ---------- */
.count-box{ display:flex; gap:.75rem; flex-wrap:wrap; }
.time{
  min-width:72px; text-align:center; padding:.5rem .65rem; border-radius:.75rem;
  background:#fff; border:1px solid var(--line);
}
.time .num{ font-size:1.5rem; font-weight:800; color:#111827; }
.time .lab{ font-size:.75rem; color:#6b7280; }

/* ---------- Progress (klaim batch) ---------- */
.meter{ height:10px; background:#eef2f7; border-radius:999px; overflow:hidden; }
.meter > span{
  display:block; height:100%;
  background:linear-gradient(90deg, #22c55e, #16a34a);
  width:28%; transition:width .6s ease;
}

/* ---------- Slider Core ---------- */
.slider{
  position:relative; overflow:hidden;
  border:1px solid var(--line); border-radius:12px; background:#fff;
  touch-action: pan-y; /* izinkan scroll vertikal; swipe horizontal tetap bekerja di JS */
}
.slider-track{
  display:flex; align-items:stretch;
  will-change:transform; transform:translate3d(0,0,0);
  transition:transform .6s cubic-bezier(.22,.61,.36,1);
}
.slide{
  flex:0 0 100%; position:relative; user-select:none;
  min-height:200px;
}
.slide img{
  width:100%; height:100%; object-fit:cover; display:block;
}
.slide-caption{
  position:absolute; left:0; right:0; bottom:0;
  padding:.6rem .8rem; color:#0f172a; font-size:.9rem; line-height:1.35;
  background:linear-gradient(to top, rgba(255,255,255,.95), rgba(255,255,255,.66), rgba(255,255,255,.0));
}

/* ---------- Slider Controls ---------- */
.slider-prev, .slider-next{
  position:absolute; top:50%; transform:translateY(-50%);
  width:42px; height:42px; display:grid; place-items:center;
  border:none; border-radius:999px; background:#111827; color:#fff; opacity:.85;
  box-shadow:var(--shadow); transition:opacity .2s ease, transform .08s ease;
}
.slider-prev{ left:.5rem; }
.slider-next{ right:.5rem; }
.slider-prev:active, .slider-next:active{ transform:translateY(-50%) scale(.98); }
.slider:hover .slider-prev, .slider:hover .slider-next{ opacity:1; }
.slider-prev:focus-visible, .slider-next:focus-visible{ outline:3px solid #93c5fd; outline-offset:2px; }

/* ---------- Slider Dots ---------- */
.slider-dots{
  position:absolute; left:0; right:0; bottom:.4rem;
  display:flex; align-items:center; justify-content:center; gap:.4rem;
  padding:.2rem .4rem;
}
.slider-dots button{
  width:8px; height:8px; border-radius:999px; border:1px solid #111827;
  background:rgba(255,255,255,.85); padding:0; opacity:.6; transition:opacity .2s ease, transform .2s ease;
}
.slider-dots button.is-active{
  background:#111827; opacity:1; transform:scale(1.15);
}
.slider-dots button:focus-visible{ outline:2px solid #93c5fd; outline-offset:2px; }

/* ---------- Buttons polish ---------- */
.btn-success{
  background:linear-gradient(135deg, var(--brand), var(--brand-700));
  border:0;
}
.btn-success:hover{ filter:brightness(1.03); }
.btn-outline-success{
  border-color:var(--brand); color:var(--brand);
}
.btn-outline-success:hover{
  background:var(--brand-soft); border-color:var(--brand);
}
.fw-semibold{ font-weight:600; }

/* ---------- Cards / containers ---------- */
.card{ border-radius:14px; }
.border{ border-color:var(--line)!important; }
.bg-white-soft{ background:#fdfdfd; }

/* ---------- Floating CTA (stable) ---------- */
/* spacer permanen: selalu ada ruang di atas footer sebesar tinggi floater */
.floater-spacer{
  height: calc(var(--floater-h) + env(safe-area-inset-bottom, 0px));
}

.floating-cta{
  position:fixed; left:0; right:0;
  bottom: env(safe-area-inset-bottom, 0px);
  transform: translateY(110%);           /* hide by default */
  transition: transform .35s ease;
  z-index:9999;
  background:#111827; color:#fff;
  padding:.75rem 1rem;
  box-shadow:0 -8px 24px rgba(2,6,23,.18);
  pointer-events:none;                   /* hindari blok klik elemen di bawah */
  will-change: transform;
  backface-visibility: hidden; /* iOS jitter fix */
}
.floating-cta .container, .floating-cta a, .floating-cta button{
  pointer-events:auto;                   /* aktifkan interaksi di dalam floater */
}
.floating-cta .btn{ border-radius:999px; }
.floating-cta .btn.btn-success{
  background:linear-gradient(135deg, var(--brand), var(--brand-700)); border:0;
}
.floating-cta.show{ transform: translateY(0); }

/* ---------- Exit-Intent Teaser (JANK-PROOF) ---------- */
/* FIX: jangan pernah pakai display:none/block untuk elemen fixed — gunakan opacity+transform supaya
   tidak memicu reflow/scroll anchoring saat muncul/hilang */
.exit-box{
  position:fixed; inset:auto 16px 16px auto; max-width:320px; z-index:9998;
  background:#fff; border:1px solid var(--line); border-radius:14px; box-shadow:0 16px 32px rgba(2,6,23,.16);

  opacity:0; transform:translateY(8px);
  pointer-events:none;

  /* anti-jitter */
  will-change: transform, opacity;
  transition: opacity .18s ease, transform .18s ease;
  contain: content;
  backface-visibility: hidden;
}
.exit-box.show{
  opacity:1; transform:none;
  pointer-events:auto;
}

/* ---------- Footer ---------- */
footer .btn{ border-radius:999px; }

/* ---------- Responsive ---------- */
@media (max-width: 991.98px){
  .slider-prev, .slider-next{ width:36px; height:36px; }
}
@media (max-width: 575.98px){
  .time{ min-width:64px; }
  .slide-caption{ font-size:.85rem; }
  .navbar .btn{ padding:.45rem .8rem; }
}

/* ---------- Print (minimal) ---------- */
@media print{
  .navbar, .floating-cta, .exit-box{ display:none!important; }
  a[href]:after{ content:""; }
}

/* ---------- Mobile scroll smoothing / iOS fixes ---------- */
@supports (-webkit-touch-callout: none) {
  body{ overscroll-behavior-y: contain; } /* kurangi bounce iOS yang memicu jump */
}
.square-thumb {
  width: 100%;            /* Lebar menyesuaikan container / layar */
  aspect-ratio: 1 / 1;    /* Rasio 1:1 */
  overflow: hidden;
  background: #fff;
}

.square-img {
  width: 100%;
  height: 100%;
  object-fit: contain;    /* Fit saja, tidak terpotong */
  object-position: center;
  display: block;
}
